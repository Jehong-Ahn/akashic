<!DOCTYPE html>
<html lang="ko" data-bs-theme="dark">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="https://cdn.glitch.global/9d0ec853-f687-4fe4-b65f-e4332629d81b/milky-way_1f30c.jpg?v=1700063549907" type="image/jpeg">  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  
</head>

<body class="m-3">

  
  <spinner hidden class="position-absolute top-50 start-50 translate-middle z-1">
    <div class="spinner-border text-info"></div>  
  </spinner>
  
  <ul id="pagination" class="pagination justify-content-center">
      <li class="page-item" 
          onclick="pagination.render(--pagination.curPageIndex)">
          <a class="page-link h-100 d-flex align-items-center" href="#">&laquo;</a>
      </li>
      <li class="page-item text-center" style="width: 40vw;">
          <span class="page-link text-reset px-1">&nbsp;</span>
      </li>
      <li class="page-item" 
          onclick="pagination.render(++pagination.curPageIndex)">
          <a class="page-link h-100 d-flex align-items-center" href="#">&raquo;</a>
      </li>
  </ul>

  <ul id="types" class="nav nav-tabs"></ul>  

  <div class="input-group mt-3 px-5">
    <span class="input-group-text text-secondary" style="background: none;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewbox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg></span>
    <input id="search_query" class="form-control" style="border-left: none;" />
  </div>

  <div id="tab-contents" class="mt-3"></div>
    
  
  
  <script type="module">
    import data from './data.js';
    import { $spinner } from './lib.js';
    import { render } from './chapter.js';
    
    $spinner.hidden = false;
    setTimeout(() => {
      render({
        bookTitle: '무언의 마법사',
        chapterTitle: "1화",
        chapterData: data['1화'],
      });
      $spinner.hidden = true;
    }, 1000);
  </script>
<!--  
  
  
  
  <script>
    
    pagination.pageKeys = Object.keys(data);
    pagination.curPageIndex = queryParams.get('pi') || 0;

    pagination.render = function(i) {
      const [prev, cur, next] = this.children;
      const curPageKey = this.pageKeys[i];

      prev.hidden = i===0;
      next.hidden = i+1 === this.pageKeys.length;
      cur.firstElementChild.textContent = curPageKey;


    }
    
    
    spinner.hidden = false;
    pagination.render(pagination.curPageIndex);
    $types.render( data[ pagination.pageKeys[ pagination.curPageIndex ] ] );
    spinner.hidden = true;
  </script>
  -->
    
  

</body>
</html>